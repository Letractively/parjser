if(typeof parjser==="undefined")parjser={};parjser.h={type:"_EOF"};parjser.u={type:"_DEBUGGER"};if(!parjser.w)parjser.w={};parjser.d=function(a,b){this.type=a;b&&this.p(b);return this};parjser.d.prototype={p:function(a){this.a=a.a;this.text=a.Q;this.B()},B:function(){var a=this.a,b=this.text.substr(0,a),c=b.replace(/\n/g,"");this.G=1+b.length-c.length;c=b.lastIndexOf("\n");this.n=a-c;this.F=b.substr(c,this.n)},toString:function(){return this.type+" at line "+this.G+", column "+this.n+": "+this.F}};
parjser.l=function(a,b,c){this.p(a);this.N=b;this.q=c};parjser.l.prototype=new parjser.d("SyntaxErrorException");parjser.l.prototype.toString=function(){return parjser.d.prototype.toString.call(this)+"\nwhile parsing "+this.q};parjser.k=function(a){this.i(a);return this};
parjser.k.prototype={i:function(a){this.b=a.b?a.b:{};this.t=[null];this.o=[null];this.ignoreCase=a.ignoreCase===true?true:false;this.A=a.z?a.z:{};this.a=this.text=null;this.r(false)},r:function(a){var b,c=this.b,e="",f,d=0,g=this.t,h=this.o;for(b in c){if(e!=="")e+="|";f=c[b].toString();e+="("+f.substr(1,f.length-2)+")";if(!a){g.push(b);f=f.replace(/\\\\/g,"");f=f.replace(/\\\(/g,"");f=f.replace(/\(\?!/g,"");d++;h.push(d);d+=f.length-f.replace(/\(/g,"").length}}if(!a)try{this.L=RegExp(e,(this.ignoreCase?
"i":"")+"g")}catch(i){this.r(true)}},C:function(a){return a.type in this.A},next:function(){var a=this.text,b=this.a,c,e,f,d,g;if(b>=a.length)return parjser.h;if((a=this.L.exec(a))===null)this.j();else a.index!==this.a&&this.j();c=a[0];e=c.length;g=this.o;this.a+=e;d=1;for(f=a.length;d<f;d++)if(a[g[d]])return{text:c,O:e,P:b,type:this.t[d]};this.j()},e:function(){for(var a;this.C(a=this.next()););return a},j:function(){throw new parjser.d("NoMatchFound",this);}};
parjser.SimpleTopDownParser=function(a){this.i(a);return this};
parjser.SimpleTopDownParser.prototype={i:function(a){this.b=a.b?a.b:{};this.g=a.g?a.g:new parjser.k(a);this.rules=a.rules?a.rules:{};this.M=a.M;this.c=this.s=null},D:function(a){return a in this.b},v:function(a){var b=this.rules[a];if(!b)throw'No rule found for symbol "'+a+'"';return b},e:function(){var a;a=++this.c;var b=this.s;if(a<b.length)a=b[a];else{a=this.g.e();b.push(a)}return a},f:function(a,b,c,e){var f,d,g={a:this.g.a,c:this.c};if(a instanceof Array)d=a.length===0?true:a[0]==="|"?this.H(a,
g):this.I(a,g);else if(typeof a==="string")d=a.length===0?true:this.J(a,g);else if(a===null)d=true;else if(a===parjser.h)if(this.e()===parjser.h)f=d=true;else d=false;else if(a===parjser.u){d=true;debugger}else{debugger;throw"Invalid rule: "+JSON.stringify(a);}if(d){g.type=a;g.S=c;g.R=e;if(b&&f!==true){if(!b.m)b.m=[];b.m.push(g);g.parentNode=b}}else this.c=g.c;return d},K:function(a,b){var c=this.e(),e;if(c.type===a){e=true;b.T=c}else e=false;return e},I:function(a,b){var c=a.length,e,f,d,g,h,i;for(e=
0;e<c;e++){f=a[e];if(e+1<c){g=a[e+1];switch(g){case "?":h=0;i=1;break;case "*":h=0;i=Number.POSITIVE_INFINITY;break;case "+":h=1;i=Number.POSITIVE_INFINITY;break;default:if((d=/\{(\d+)(,(\d+))?\}/.exec(g))&&d[0]===g){h=d[1]?parseInt(d[1],10):1;i=d[3]?parseInt(d[3],10):1}else{g=null;i=h=1}}}else{g=null;i=h=1}for(d=0;d<h;d++)if(!this.f(f,b,e,d))return false;for(;d<i;d++)if(!this.f(f,b,e,d))break;g!==null&&e++}return true},H:function(a,b){var c,e=a.length,f;for(c=1;c<e;c++){f=a[c];if(this.f(f,b,c))return true}return false},
J:function(a,b){var c;if(this.D(a))c=this.K(a,b);else{if(this.c===this.s.length-1)this.q=a;c=this.v(a);c=this.f(c,b)}return c}};
